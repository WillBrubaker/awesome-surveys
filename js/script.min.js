function hideRecaptchaError(e){jQuery("span#recaptcha-error").hide()}jQuery(document).ready(function(e){e('form.answer-survey input[type="submit"]').prop("disabled",!1),e("form.answer-survey label.control-label > span.required").each(function(){var a=e(this).parent().next();e('input[type="checkbox"]',a).each(function(){e(this).prop("required",!0)})});var a=e("form.answer-survey").position();e("form.answer-survey").each(function(){e(this).validate({errorPlacement:function(a,r){var t=r.closest(e(".control-group")),n=e("> label",t);a.insertBefore(n)},submitHandler:function(r){var t=e(".overlay",r);e("div.g-recaptcha").length<=0||""!=e("#g-recaptcha-response").val()?(t.show(),e.post(wwm_awesome_surveys.ajaxurl,e(r).serializeArray(),function(a){return null==a?(e(r).empty().append('<p class="error">An unknown error occured (data object is null)</p>'),null):void(a.success?(msg="undefined"!=typeof a.data.thank_you?a.data.thank_you:'<span class="error">'+a.data+"</span>",e(r).empty().append('<p class="success">'+msg+"</p>"),void 0!=typeof a.data.url&&a.data.url&&(void 0!=typeof a.data.urltimeout&&a.data.urltimeout>0?setTimeout(function(){window.location.href=a.data.url},1e3*a.data.urltimeout):window.location.href=a.data.url)):alert(a.data.error))},"json").fail(function(a){e(r).empty().append('<p class="error">There was an error. The error status code is: '+a.status+" The error message is: "+a.statusText+"</p>")}).always(function(){window.scroll(a.left,-a.top),t.hide()})):e("span#recaptcha-error").length>0&&e("span#recaptcha-error").show()}})}),e("form.answer-survey textarea[data-rule-maxlength][data-add_countdown]").each(function(){maxLength=e(this).data("rule-maxlength"),"undefined"!=typeof maxLength&&e('<div class="countdown"><span class="remaining-chars">'+maxLength+"</span> "+wwm_awesome_surveys.countDownMessage+"</div>").insertAfter(e(this))}).keyup(function(){maxLength=e(this).data("rule-maxlength"),curLength=e(this).val().length,remaining=maxLength-curLength,e(".remaining-chars",e(this).parent()).empty().append(remaining)})});