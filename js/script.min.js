function hideRecaptchaError(e){jQuery("span#recaptcha-error").hide()}jQuery(document).ready(function(e){e('form.answer-survey input[type="submit"]').prop("disabled",!1),e("form.answer-survey label.control-label > span.required").each(function(){var t=e(this).parent().next();e('input[type="checkbox"]',t).each(function(){e(this).prop("required",!0)})});var t=e("form.answer-survey").position();e("form.answer-survey").each(function(){e(this).validate({errorPlacement:function(t,a){var n=a.closest(e(".control-group")),r=e("> label",n);t.insertBefore(r)},submitHandler:function(a){var n=e(".overlay",a);e("div.g-recaptcha").length<=0||""!=e("#g-recaptcha-response").val()?(n.show(),e.post(wwm_awesome_surveys.ajaxurl,e(a).serializeArray(),function(t){return null==t?(e(a).empty().append('<p class="error">An unknown error occured (data object is null)</p>'),null):void(t.success?(msg="undefined"!=typeof t.data.thank_you?t.data.thank_you:'<span class="error">'+t.data+"</span>",e(a).empty().append('<p class="success">'+msg+"</p>"),void 0!=typeof t.data.url&&t.data.url&&(void 0!=typeof t.data.urltimeout&&t.data.urltimeout>0?setTimeout(function(){window.location.href=t.data.url},1e3*t.data.urltimeout):window.location.href=t.data.url)):alert(t.data.error))},"json").fail(function(t){e(a).empty().append('<p class="error">There was an error. The error status code is: '+t.status+" The error message is: "+t.statusText+"</p>")}).always(function(){window.scroll(t.left,-t.top),n.hide()})):e("span#recaptcha-error").length>0&&e("span#recaptcha-error").show()}})}),e("form.answer-survey textarea[data-rule-maxlength][data-add_countdown]").each(function(){maxLength=e(this).data("rule-maxlength"),"undefined"!=typeof maxLength&&e('<div class="countdown"><span class="remaining-chars">'+maxLength+"</span> "+wwm_awesome_surveys.countDownMessage+"</div>").insertAfter(e(this))}).keyup(function(){maxLength=e(this).data("rule-maxlength"),curLength=e(this).val().length,remaining=maxLength-curLength,e(".remaining-chars",e(this).parent()).empty().append(remaining)})}),jQuery("document").ready(function(e){e("[data-rule-conditional-on]").each(function(){e(this).closest(".control-group").hide()}),e('form#pfbc select, form#pfbc input[type="radio"], form#pfbc input[type="checkbox"]').on("change",function(){var t=/(question)|(\[|\])/g;if("checkbox"===e(this).attr("type"))e(this).parent().each(function(){var a=!1;loopqIndex=e(":first-child",this).attr("name").replace(t,""),loopselectedValue=e(":first-child",this).val(),a=e(":first-child",this).is(":checked"),e('[data-rule-conditional-on="['+loopqIndex+"["+loopselectedValue+']]"').each(function(){e(this).closest(".control-group").each(function(){e("input",e(this)).each(function(){e(this).prop("checked",!1).trigger("change"),("text"===e(this).attr("type")||"number"===e(this).attr("type")||"email"===e(this).attr("type"))&&e(this).val("")}),e("textarea",e(this)).each(function(){e(this).val("")})}),e(this).closest(".control-group").toggle(a)})});else{var a=e(this).attr("name").replace(t,"");console.log("the selection is "+e(":selected",this).val());var n=e(":selected",this).val()?e(":selected",this).val():e(this).val();console.log("selected value "+n);e(this);e('[data-rule-conditional-on^="['+a).each(function(){e(this).closest(".control-group").each(function(){e("input",e(this)).each(function(){e(this).prop("checked",!1).trigger("change"),("text"===e(this).attr("type")||"number"===e(this).attr("type")||"email"===e(this).attr("type"))&&e(this).val("")}),e("textarea",e(this)).each(function(){e(this).val("")})}),e(this).closest(".control-group").hide()}),e('[data-rule-conditional-on="['+a+"["+n+']]"').each(function(){e(this).closest(".control-group").show()})}})});