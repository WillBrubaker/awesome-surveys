jQuery(document).ready(function(a){a("form.answer-survey label.control-label > span.required").each(function(){var b=a(this).parent().next();a('input[type="checkbox"]',b).each(function(){a(this).prop("required",true)})});a('form.answer-survey input[type="submit"]').prop("disabled",false);a("form.answer-survey").each(function(){a(this).validate({errorPlacement:function(b,c){var d=c.closest(a(".control-group"));var e=a("> label",d);b.insertBefore(e)},submitHandler:function(c){var b=a(".overlay",c);b.show();a.post(wwm_awesome_surveys.ajaxurl,a(c).serializeArray(),function(d){if(null==d){a(c).empty().append('<p class="error">An unknown error occured (data object is null)</p>');return null}msg=("undefined"!=typeof d.data.thank_you)?d.data.thank_you:'<span class="error">'+d.data+"</span>";a(c).empty().append("<p>"+msg+"</p>");if(null!=d.data.url){window.location=d.data.url}},"json").fail(function(d){a(c).empty().append('<p class="error">There was an error. The error status code is: '+d.status+" The error message is: "+d.statusText+"</p>")}).always(function(){b.hide()})}})})});